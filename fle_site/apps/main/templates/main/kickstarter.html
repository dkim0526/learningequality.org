{% extends base_template %}

{% load staticfiles %}

{% block title %}Kolibri : A Free, Open Source Education for All{% endblock title%}

{% block headcss %}
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0" />
    <meta property="og:image" content="{% static 'img/kickstarter/fb-sharedlink.png' %}" />
    <!-- Custom CSS -->
    <link rel="stylesheet" href="{% static 'css/flipclock.css' %}">
    <link rel="stylesheet" href="{% static 'css/kickstarter.css' %}?asdfghjkl">
    <link rel="stylesheet" href="{% static 'css/_kickstarter_features.css' %}">
    <link rel="stylesheet" href="{% static 'css/_kickstarter_how.css' %}">
    <link rel="stylesheet" href="{% static 'css/_kickstarter_quote.css' %}">
    <link rel="stylesheet" href="{% static 'css/_kickstarter_mobile.css' %}?asdfghjkl">
    <link rel="stylesheet" href="{% static 'css/animate.css' %}">
    <link rel="stylesheet" href="{% static 'css/igg_integration.css' %}">

    <!-- Custom Fonts -->

    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,300,700' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Montserrat:100,400,700' rel='stylesheet' type='text/css'>
    
{% endblock headcss %}


{% block bodycontents %}


    <!-- Header -->
    <div id="body">
        <header id="kickstarter-header" class="col-md-12">
            <div class="header-shadow row">
                <!---Kolibri Intro-->
                <div class="intro-text">
                    <div class="container">
                        <div class="row">
                            <div id="intro_container">
                                    <br>
                                    <h1 class="kolibri-title">Kolibri</h1>
                                    <h3>The offline app for universal education</h3>
                                    <br><br><br>
                                    <a id="intro-download-btn" href="{% url 'download' %}" target="_blank">Download</a>
                                    <a id="intro-demo-btn" href="http://kolibridemo.learningequality.org/" target="_blank">Demo</a>
                                    <br><br><br><br><br>
                            </div>
                            
                        </div>
                        
                    </div>

                </div>
            </div>
            <!---Arrow Down-->


        </header>

        <!-- Below the fold version 2 -->
        <section id="fle_intro" class="row">
            {% include "main/partials/_kickstarter_intro2.html" %}
        </section>

        <!-- FLE how it works -->
        <section id="fle_how" class="row">
<!--        
 -->            {% include "main/partials/_kickstarter_how.html" %}
        </section>

                <!-- Features Section: Tile Design -->
        
           
            {% include "main/partials/_kickstarter_features_tiledesign.html" %}
        

        <div class="container-fluid studio-container">
            <div class="row kolibri-studio">
                <div class="col-sm-12 kolibri-intro">
                    <h2>Customizable  Digital Curriculum</h2>
                    <h4>Education is not "one-size fits all."</h4><br>
                </div>

                <div class="col-sm-12">
                        <img src="{% static 'img/kickstarter/studio-tablet.png' %}" class="center-block studio-tablet">
                </div>

            </div>

            <div class="row kolibri-copy">
                <div class="col-xs-12 col-sm-6 col-md-6 kolibri-blurbs">
                    <h4>THE KOLIBRI OFFLINE EDUCATIONAL LIBRARY</h4>
                    <p>Kolibri is specially designed to provide offline access to a curated and openly licensed educational content library. Available in dozens of languages, the Kolibri libraries are designed to support a well-rounded curriculum, including both formal educational materials--such as lessons and assessments--and exploratory materials, such as books, games, and simulations.</p>
                    <br>
                    <a href="#portfolioModal5" data-toggle="modal">Explore content</a>
                </div>
                <div class="col-xs-12 col-sm-6 col-md-6">
                    <h4>THE KOLIBRI STUDIO CURRICULUM TOOL</h4>
                    <p>Our web-based standalone tool KOLIBRI STUDIO gives users full control over the organization of their educational materials. Using this content curation system, anyone can explore pre-organized libraries of open educational resources, and bundle, tag, differentiate, re-order, and distribute their content into custom channels.</p>
                    <br>
                    <a href="#portfolioModal1" data-toggle="modal">Learn more</a>
                </div>
            </div>

            <div class="row kolibri-feature-row">
                    <div class="col-sm-4 col-md-4 col-lg-4">
                        <img src="{% static 'img/kickstarter/devices.png' %}" class="center-block">
                    </div>
                    <div class="col-sm-7 col-md-7 col-lg-7">
                        <h4>Runs on anything</h4>
                        <p>To facilitate broad, low-cost adoption, Kolibri is carefully designed to run on as many devices and operating systems (including Windows, Linux and OSX) as possible, leveraging existing legacy hardware or low-cost off-the-shelf devices. The cost of Android tablets is plummeting, so we're also building Kolibri to run standalone as an Android app.</p>
                    </div>
            </div>

            <div class="row kolibri-feature-row">
                    <div class="col-sm-4 col-md-4 col-lg-4">
                        <img src="{% static 'img/kickstarter/byte.png' %}" class="center-block">
                    </div>
                    
                    <div class="col-sm-7 col-md-7 col-lg-7">
                        <h4>Packaged for Offline Use</h4>
                        <p>We developed special processes to package online learning materials to be taken offline. One of our innovations is a video compression technique that convert the pen strokes and objects in a blackboard-style video into scalable vector objects. <br><br>In our tests, a 250MB video can now be compressed into just a single megabyte, while retaining most of the original quality. This reduces the time and cost needed to download a large set of videos, and allows a large amount of content to be stored on a small, low-cost device.</p>
                    </div>
            </div>

            <div class="row kolibri-feature-row">
                    <div class="col-sm-4 col-md-4 col-lg-4">
                        <img src="{% static 'img/kickstarter/self-paced.png' %}" class="center-block">
                    </div>
                    
                    <div class="col-sm-7 col-md-7 col-lg-7">
                        <h4>Self-Paced Learning</h4>
                        <p>Track educational growth for individuals and groups of learners accurately and easily, even in informal educational contexts.<br><br> Kolibri comes with tools such as a coach dashboard, exam creation, exercises, assignment of content for differentiated instruction, and a recommendation tool that displays useful and relevant next steps based on a learner's history, progress, and goals.</p>
                        <a href="#portfolioModal4" data-toggle="modal">Learn more</a>
                    </div>
            </div>

            <div class="row kolibri-feature-row">
                    <div class="col-sm-4 col-md-4 col-lg-4">
                        <img src="{% static 'img/kickstarter/syncing.png' %}" class="center-block">
                    </div>
                    
                    <div class="col-sm-7 col-md-7 col-lg-7">
                        <h4>Syncing and Sharing</h4>
                        <p>Devices running Kolibri will be able to find and directly connect with each other over a local Wi-Fi network, allowing for easy content sharing and data updates.</p>
                    </div>
            </div>
                
            
        
        </div>

       <div class="container-fluid">
            <div class="row translate-row">
                <div class="col-sm-6 col-md-6 translate-blurb">
                    <h4>Help translate Kolibri!</h4>
                    <a href="{% url 'translate' %}">Learn more about contributing</a> 
                </div>
                <div class="col-sm-6 col-md-6">
                    <h4>Kolibri Hardware Grants program</h4>
                    <a href="{% url 'hardware_grant' %}">More information</a> 
                </div>
            </div>
        </div>



        <!-- Plugin JavaScript -->

        <!-- Contact Form JavaScript -->
        <script src="{% static 'js/jqBootstrapValidation.js' %}" type="text/javascript"></script>
        <!-- WOW Scrolling JavaScript -->
        <script src="{% static 'js/wow.js' %}"></script>
        <script src="{% static 'js/flipclock.min.js' %}"></script>
        <script>
            new WOW().init();
        </script>

        <!-- Smooth scrolling and back to top button -->
        <script>
            $(document).ready(function() {
                var offset = $("#parallax_or_mobile").height() * 3;
                $(window).scroll(function() {
                    if ($(this).scrollTop() > offset) {
                        $('.back-to-top').fadeIn(300);
                    } else {
                        $('.back-to-top').fadeOut(300);
                    }
                });
            });
            $('.back-to-top').click(function() {
                $('html, body').animate({
                    scrollTop: $($.attr(this, 'href')).offset().top
                }, 1500);
                return false;
            });
            $('#be-part').click(function() {
                $('html, body').animate({
                    scrollTop: $($.attr(this, 'href')).offset().top
                }, 1500);
                return false;
            });
            $('#down-arrow').click(function() {
                $('html, body').animate({
                    scrollTop: $($.attr(this, 'href')).offset().top
                }, 900);
                return false;
            });

            // Determines when sticky signup bar becomes... sticky
            // $(function() {
            //     $('.sticky-signup').attr("data-offset-top", $('#kickstarter-header').outerHeight() - 120);
            // });

            // Adds a countdown timer to release day
            FlipClock.Lang.Custom = { days:'Days', hours:'Hours', minutes:'Minutes', seconds:'Seconds' };
            var opts = {
                clockFace: 'DailyCounter',
                countdown: true,
                language: 'Custom'
            };
            var countdown = 1445014800 - ((new Date().getTime())/1000); // from: 10/16/2015 10:00 am -0700
            countdown = Math.max(1, countdown);
            $('.countdown').FlipClock(countdown, opts);

            // Checks whether device is mobile or desktop and applies appropriate html file and styles
            $(function() {
                var isMobileWebkit = /WebKit/.test(navigator.userAgent) && /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
                if (isMobileWebkit) {
                    // load mobile template for timeline
                    $("#desktop-timeline").load("{% static 'timeline/_kickstarter_timeline_mobile.html' %}");
                    $("#fle_quote").css({"display": "none !important"});
                } else {
                    // load desktop timeline and set min-width of body
                    $("#desktop-timeline").load("{% static 'timeline/_kickstarter_timeline.html' %}");
                    // set styles of bottom iframe on desktop
                    $('iframe').load( function() {
                        $('#header-mailchimp').contents().find("head")
                          .append($("<style type='text/css'>  .email_input_k{width:400px;}  </style>"));
                    });
                    $(window).resize(function() {
                        if ( $('body').width() < 1170 ) {
                            $("#desktop-timeline").load("{% static 'timeline/_kickstarter_timeline_mobile.html' %}");
                        } else {
                            $("#desktop-timeline").load("{% static 'timeline/_kickstarter_timeline.html' %}");
                        }
                    });
                if ( $('body').width() < 1170 ) {
                    $("#desktop-timeline").load("{% static 'timeline/_kickstarter_timeline_mobile.html' %}");
                    } else {
                        $("#desktop-timeline").load("{% static 'timeline/_kickstarter_timeline.html' %}");
                    }
                };

                // Set height of how-image to be the height of the section with infographics, only on bigger screens
                    if ( $('body').width() > 990 ) {
                        var how_height = $(".how-explanation").height();
                        document.getElementById('how-image').style.height = how_height+'px';
                    }

                //load mobile timeline html template when desktop screen size is less than 1000px
                $(window).resize(function() {
                    // Set height of how-image to be the height of the section with infographics, only on bigger screens
                    if ( $('body').width() > 990 ) {
                        var how_height = $(".how-explanation").height();
                        document.getElementById('how-image').style.height = how_height+'px';
                    }
                });

            });





        </script>

        <!-- // <script src="https://f.vimeocdn.com/js/froogaloop2.min.js"></script> -->

        <!-- Google Analytics tracking -->
        <script>

            // Froogaloop library for controlling Vimeo
            var Froogaloop=function(){function e(a){return new e.fn.init(a)}function g(a,c,b){if(!b.contentWindow.postMessage)return!1;a=JSON.stringify({method:a,value:c});b.contentWindow.postMessage(a,h)}function l(a){var c,b;try{c=JSON.parse(a.data),b=c.event||c.method}catch(e){}"ready"!=b||k||(k=!0);if(!/^https?:\/\/player.vimeo.com/.test(a.origin))return!1;"*"===h&&(h=a.origin);a=c.value;var m=c.data,f=""===f?null:c.player_id;c=f?d[f][b]:d[b];b=[];if(!c)return!1;void 0!==a&&b.push(a);m&&b.push(m);f&&b.push(f);return 0<b.length?c.apply(null,b):c.call()}function n(a,c,b){b?(d[b]||(d[b]={}),d[b][a]=c):d[a]=c}var d={},k=!1,h="*";e.fn=e.prototype={element:null,init:function(a){"string"===typeof a&&(a=document.getElementById(a));this.element=a;return this},api:function(a,c){if(!this.element||!a)return!1;var b=this.element,d=""!==b.id?b.id:null,e=c&&c.constructor&&c.call&&c.apply?null:c,f=c&&c.constructor&&c.call&&c.apply?c:null;f&&n(a,f,d);g(a,e,b);return this},addEvent:function(a,c){if(!this.element)return!1;var b=this.element,d=""!==b.id?b.id:null;n(a,c,d);"ready"!=a?g("addEventListener",a,b):"ready"==a&&k&&c.call(null,d);return this},removeEvent:function(a){if(!this.element)return!1;var c=this.element,b=""!==c.id?c.id:null;a:{if(b&&d[b]){if(!d[b][a]){b=!1;break a}d[b][a]=null}else{if(!d[a]){b=!1;break a}d[a]=null}b=!0}"ready"!=a&&b&&g("removeEventListener",a,c)}};e.fn.init.prototype=e.fn;window.addEventListener?window.addEventListener("message",l,!1):window.attachEvent("onmessage",l);return window.Froogaloop=window.$f=e}();

            $(function() {
                $('a[href$="#portfolioModal0"]').click(function(){ga('send', 'event', 'crowdfunding', 'click_modal', 'runs-on-anything');});
                $('a[href$="#portfolioModal1"]').click(function(){ga('send', 'event', 'crowdfunding', 'click_modal', 'content-curation');});
                $('a[href$="#portfolioModal2"]').click(function(){ga('send', 'event', 'crowdfunding', 'click_modal', 'share-and-sync');});
                $('a[href$="#portfolioModal3"]').click(function(){ga('send', 'event', 'crowdfunding', 'click_modal', 'byte-size-videos');});
                $('a[href$="#portfolioModal4"]').click(function(){ga('send', 'event', 'crowdfunding', 'click_modal', 'learn-at-own-pace');});

                $('#quote_video_btn').click(function(){ga('send', 'event', 'crowdfunding', 'play', 'quote-video');});

                $('.fb_btn_1').click(function(){ga('send', 'event', 'crowdfunding', 'share', 'facebook-1');});
                $('.tw_btn_1').click(function(){ga('send', 'event', 'crowdfunding', 'share', 'twitter-1');});
                $('.reddit_btn_1').click(function(){ga('send', 'event', 'crowdfunding', 'share', 'reddit-1');});
                $('.fb_btn_2').click(function(){ga('send', 'event', 'crowdfunding', 'share', 'facebook-2');});
                $('.tw_btn_2').click(function(){ga('send', 'event', 'crowdfunding', 'share', 'twitter-2');});
                $('.reddit_btn_2').click(function(){ga('send', 'event', 'crowdfunding', 'share', 'reddit-2');});

                $('#igg_btn').click(function(){ga('send', 'event', 'crowdfunding', 'click_donate', 'top');});
                $('#donate_button').click(function(){ga('send', 'event', 'crowdfunding', 'click_donate', 'bottom');});
                $('#contact_button').click(function(){ga('send', 'event', 'crowdfunding', 'click_readmore', 'bottom');});

                $('.sticky-mailchimp').contents().find("#mc-embedded-subscribe").click(function(){ga('send', 'event', 'crowdfunding', 'signup_sticky', $('.sticky-mailchimp').contents().find(".email_input_k").val(), 1);});
                $('.sticky-mailchimp2').contents().find("#mc-embedded-subscribe").click(function(){ga('send', 'event', 'crowdfunding', 'signup_sticky', $('.sticky-mailchimp2').contents().find(".email_input_k").val(), 1);});
                $('#header-mailchimp').contents().find("#mc-embedded-subscribe").click(function(){ga('send', 'event', 'crowdfunding', 'signup_bottom', $('#header-mailchimp').contents().find(".email_input_k").val(), 1);});

                var player = $f($("#k_video")[0]);
                // When the player is ready, add listeners for pause, finish, and playProgress
                player.addEvent('ready', function() {
                    player.addEvent('pause', _.once(onPause));
                    player.addEvent('finish', _.once(onFinish));
                    player.addEvent('playProgress', _.once(onPlay));
                });

                function onPause(id) {
                    ga('send', 'event', 'crowdfunding', 'video', 'pause');
                }

                function onFinish(id) {
                    ga('send', 'event', 'crowdfunding', 'video', 'finish');
                }

                function onPlay(data, id) {
                    ga('send', 'event', 'crowdfunding', 'video', 'play');
                }

            });
        </script>
    </body>

{% endblock bodycontents %}
